<div class="page-header">
  <h1>Tipos <small>tipos de lan√ßamentos</small></h1>
</div>

  <div class="panel panel-primary" *ngIf="enableEdit">
    <div class="panel-body">
      <form action="" #typeForm = "ngForm" (ngSubmit)="onSave(typeForm)">

        <div class="row">
          <div class="col-md-2">
            <label for="inputId">ID:</label>
            <input type="text"
                  id="inputId"
                  class="form-control"
                  [(ngModel)] = "type.id"
                  name="id"
                  readonly="readonly" />
          </div>
          <div class="col-md-8">
              <label for="inputName">Nome:</label>
              <input type="text"
                    id="inputName"
                    class="form-control"
                    [(ngModel)] = "type.name"
                    name="name"
                    required="required"
                    placeholder="Name" autofocus />
          </div>
          <div class="col-md-2">
              <label>&nbsp;</label>
              <button type="submit"
                      class="btn btn-primary btn-block"
                      [disabled]="type.patterns.length==0">
                  <i class="fa fa-save"></i> Salvar
              </button>
          </div>
        </div>

        <br>

        <div class="row">
          <div class="col-md-12">
              <div class="input-group">
                <input type="text" class="form-control" name="pattern" [(ngModel)]="pattern" placeholder="Digite um pattern...">
                <span class="input-group-btn">
                  <button class="btn btn-default" type="button" (click)="onAddPattern()">
                      <i class="fa fa-plus"></i>
                  </button>
                </span>
              </div>
          </div>

        </div>

        <div class="row" *ngIf="type.patterns">
          <div class="col-md-12">
            <table class="table table-bordered">
              <tbody class="text-center">
                <tr *ngFor="let p of type.patterns">
                  <td>{{p}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </form>
    </div>
  </div>


  <div class="table-responsive" *ngIf="!enableEdit">
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th class="col-md-1 text-center">ID</th>
          <th>Nome</th>
          <th class="col-md-1 text-center">
            <button href="#" class="btn btn-sm btn-primary" (click)="onNew()" >
                <i class="fa fa-plus"></i> Novo
            </button>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let obj of types">
          <td class="text-center">{{obj.id}}</td>
          <td>{{obj.name}}</td>
          <td class="text-center">
            <button href="#" class="btn btn-sm btn-warning" (click)="onFind(obj.id)" ><i class="fa fa-pencil"></i></button>
            <button href="#" class="btn btn-sm btn-danger" (click)="onDelete(obj.id)" ><i class="fa fa-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

